import { expect, test } from 'vitest';
import { request } from '../../../__tests__/utils';
test('weinre', async () => {
    // const r1 = request('http://weinre1.test2.whistlejs.com/index.html?resBody=_', function(res, body) {
    //   expect(body).containEql('http://local.whistlejs.com/...whistle-path.5b6af7b9884e1165...///weinre.6668/target/target-script-min.js#xxx');
    // });
    const r1 = await request('http://weinre1.test.whistlejs.com/index.html?resBody=_');
    expect(r1.data).contains('/target/target-script-min.js#xxx');
    const r2 = await request({
        url: 'http://weinre2.test.whistlejs.com/index.html',
        method: 'post',
        body: 'sssssss'
    });
    const r3 = await request('https://weinre3.test.whistlejs.com/index.html');
    const r4 = await request({
        url: 'https://weinre4.test.whistlejs.com/index.html',
        method: 'post',
        body: 'sssssss'
    });
    // const r1 = request('https://weinre1.test2.whistlejs.com:1234/index.html?resBody=_', function(res, body) {
    //   expect(body).containEql('https://local.whistlejs.com/...whistle-path.5b6af7b9884e1165...///weinre.6668/target/target-script-min.js#xxx');
    // });
    const r5 = await request('https://weinre1.test.whistlejs.com:1234/index.html?resBody=_');
    expect(r5.data).contains('/target/target-script-min.js#xxx');
    const r6 = request({
        url: 'http://weinre2.test.whistlejs.com:2345/index.html',
        method: 'post',
        body: 'sssssss'
    });
    const r7 = request('https://weinre3.test.whistlejs.com:3456/index.html');
    const r8 = request({
        url: 'https://weinre4.test.whistlejs.com:4567/index.html',
        method: 'post',
        body: 'sssssss'
    });
});

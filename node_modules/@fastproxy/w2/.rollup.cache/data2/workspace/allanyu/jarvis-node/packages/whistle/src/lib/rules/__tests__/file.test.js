import { describe, expect, test } from 'vitest';
import { getTextBySize, request } from '../../../__tests__/utils';
describe('file', () => {
    test('ok', async () => {
        const r1 = await request('http://file.test.whistlejs.com/index.html');
        expect(r1.data).toHaveProperty('body', 'html');
        const r2 = await request({
            url: 'https://file.test.whistlejs.com/index.html',
            method: 'post',
            body: getTextBySize(3072)
        });
        expect(r2.data).toHaveProperty('body', 'html');
        const r3 = await request({
            url: 'http://test-values.whistlejs.com/index.html?doNotParseJson',
            method: 'post',
            body: getTextBySize(3072)
        });
        expect(r3.res.headers['x-test-res']).toBe('456/resHeaders');
        expect(r3.data).toBe('x-test-body=测试789/file');
    });
});

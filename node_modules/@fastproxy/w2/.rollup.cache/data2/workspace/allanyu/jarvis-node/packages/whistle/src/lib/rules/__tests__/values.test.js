import { describe, expect, test } from 'vitest';
import { request } from '../../../__tests__/utils';
describe('values', () => {
    test('ok', async () => {
        const r1 = await request('http://values1.avenwu.com/index.html');
        expect(r1.res.headers).toHaveProperty('x-res-test', 'res');
        expect(r1.data).toHaveProperty('abc', 123);
        const r2 = await request({
            method: 'post',
            url: 'http://values2.test.com/index.html',
            body: 'ssi1,ssi2,ssi3',
            headers: {
                'content-type': 'text/plain'
            }
        });
        expect(r2.res.headers).toHaveProperty('x-res-test2', 'res');
        expect(r2.data.headers).toHaveProperty('x-req-test', 'req');
        expect(r2.data.body).toBe('include1.html,include2.html,include3.html');
    });
});

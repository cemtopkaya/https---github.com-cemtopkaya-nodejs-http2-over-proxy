import { describe, expect, test } from 'vitest';
import { request } from '../../../__tests__/utils';
describe('reqHeaders', () => {
    test('ok', async () => {
        const r1 = await request('http://reqheaders.test.whistlejs.com/index.html');
        expect(r1.data.headers).toHaveProperty('x-test1', 'value1');
        expect(r1.data.headers).toHaveProperty('x-test2', 'value2');
        expect(r1.data.headers).toHaveProperty('x-testn', 'valueN');
        const r2 = await request({
            method: 'post',
            url: 'https://reqheaders.test.whistlejs.com/index.html'
        });
        expect(r2.data.headers).toHaveProperty('x-test1', 'value1');
        expect(r2.data.headers).toHaveProperty('x-test2', 'value2');
        expect(r2.data.headers).toHaveProperty('x-testn', 'valueN');
    });
});

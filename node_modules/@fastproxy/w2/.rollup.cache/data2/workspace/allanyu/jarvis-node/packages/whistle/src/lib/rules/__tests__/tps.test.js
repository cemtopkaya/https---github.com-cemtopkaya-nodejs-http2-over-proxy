import { describe, expect, test } from 'vitest';
import { request } from '../../../__tests__/utils';
describe('tps', () => {
    test('ok', async () => {
        const r1 = await request({
            url: 'http://1.tps.whistlejs.com/index.html?name=tps1.json',
            headers: {
                'x-test': 'test',
                cookie: 'cookieName=123; test=abc',
                other: 'otherhaha'
            }
        });
        expect(r1.data.cookieValue).toBe('123');
        const r2 = await request({
            method: 'post',
            headers: {
                'x-test': 'test',
                cookie: 'cookieName=123; test=abc; name=tps2.json',
                other: 'otherhaha'
            },
            url: 'https://2.tps.whistlejs.com/?test=abc'
        });
        expect(r2.data.statusCode).toBe('200');
    });
});

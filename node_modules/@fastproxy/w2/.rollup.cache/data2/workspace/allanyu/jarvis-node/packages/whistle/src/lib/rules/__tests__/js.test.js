import { describe, expect, test } from 'vitest';
import { request } from '../../../__tests__/utils';
describe('js', () => {
    test('ok', async () => {
        const r1 = await request('http://js1.test.whistlejs.com/index.html?resBody=_');
        expect(r1.data).toBe('_\r\n<script>js</script>');
        const r2 = await request({
            method: 'post',
            url: 'https://js2.test.whistlejs.com/index.html?resBody=_'
        });
        expect(r2.data).toBe('_\r\njs');
        const r3 = await request({
            method: 'post',
            url: 'https://js3.test.whistlejs.com/index.html?resBody=_'
        });
        expect(r3.data).toBe('_');
        const r4 = await request('http://jsbody2.whistlejs.com/index.html?resBody=_');
        expect(r4.data).toBe('<!DOCTYPE html>\r\n<script src="http://1"></script>\r\n0\r\n<script src="https://2"></script>');
    });
});

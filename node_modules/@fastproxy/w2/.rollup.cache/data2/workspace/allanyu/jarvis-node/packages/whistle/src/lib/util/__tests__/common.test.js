import path from 'path';
import fs from 'fs';
import { describe, expect, test } from 'vitest';
import isUtf8 from '../is-utf8';
import Storage from '../../rules/storage';
const BASE_DIR = path.join(__dirname, '../../../../__tests__/assets/files/');
describe('common', () => {
    test('ok', () => {
        const gb2312Buf = fs.readFileSync(path.join(BASE_DIR, 'gb2312.txt'));
        const utf8Buf = fs.readFileSync(path.join(BASE_DIR, '1.txt'));
        expect(isUtf8(gb2312Buf)).toBe(false);
        expect(isUtf8(utf8Buf)).toBe(true);
        new Storage(path.join(BASE_DIR, 'storage'));
    });
});

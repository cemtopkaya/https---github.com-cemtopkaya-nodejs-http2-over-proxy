"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const commander_1 = tslib_1.__importDefault(require("commander"));
const util_1 = require("./util");
console.log('run bootstrap');
(0, util_1.setSudoGid)();
commander_1.default.command('run <main>').action((main) => {
    console.log('bootstrap, main=', main);
    main = require(main);
    if (typeof (main.default || main) === 'function') {
        (main.default || main)((0, util_1.parseJSON)(commander_1.default.data, true));
    }
});
commander_1.default.option('-d, --data [data]', 'data', String, null).parse(process.argv);
